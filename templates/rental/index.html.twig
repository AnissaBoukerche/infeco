{% extends 'base.html.twig' %}

{% block title %}Locations{% endblock %}

{% block body %}
    <h1 class="text-center mb-3">Liste des locations</h1>

    <table class="table table-striped table-hover ms-3">
        <thead>
            <tr>
                <th>Id</th>
                <th>Début-location</th>
                <th>Fin-location</th>
                <th>Charges</th>
                <th>Loyer</th>
                <th>Solde</th>
                <th>Modifier</th>
                <th>Supprimer</th>
                <th>Ajouter un état des lieux</th>
                <th>Ajouter un locataire</th>
            </tr>
        </thead>
        <tbody>
        {% for rental in rentals %}
            <tr>
                <td>{{ rental.id }}</td>
                <td>{{ rental.entryAt ? rental.entryAt|date('d-m-Y') : '' }}</td>
                <td>{{ rental.exitAt ? rental.exitAt|date('d-m-Y') : '' }}</td>
                <td>{{ rental.charges }}</td>
                <td>{{ rental.rent }}</td>
                <td>{{ rental.balance }}</td>
                <td>
                    <a href="{{ path('app_rental_edit', {'id': rental.id}) }}" class="btn btn-warning">Modifier</a>
                </td>
                <td>
                    <a href="{{ path('app_rental_delete', {'id': rental.id}) }}" class="btn btn-danger">Supprimer</a>
                </td>
                <td>
                    <a href="{{ path('app_inventory_of_fixtures_new', {'id': rental.id}) }}" class="btn btn-primary">Ajouter un état des lieux</a>
                </td>
                <td>
                    <a href="{{ path('app_tenant_new', {'id': rental.id}) }}" class="btn btn-primary">Ajouter un locataire</a>
                </td>
                    
                    
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="7">Aucune location trouvée</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('app_rental_new') }}" class="btn btn-dark ms-3 mb-5">Ajouter une location</a>
{% endblock %}
