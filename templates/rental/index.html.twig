{% extends 'base.html.twig' %}

{% block title %}Locations{% endblock %}

{% block body %}
    <h1 class="text-center mb-3">Liste des locations</h1>

    <table class="table table-striped table-hover table-sm">
        <thead>
            <tr>
                <th>Début-location</th>
                <th>Fin-location</th>
                <th>Charges</th>
                <th>Loyer</th>
                <th>Solde d'entrée</th>
                <th>Modifier</th>
                <th>Supprimer</th>
                <th>Ajouter</th>
                <th>Ajouter</th>
                <th>Ajouter</th>
                <th>Détail</th>
            </tr>
        </thead>
        <tbody>
        {% for rental in rentals %}
            <tr>
                <td>{{ rental.entryAt ? rental.entryAt|date('d-m-Y')}}</td>
                <td>{{ rental.exitAt ? rental.exitAt|date('d-m-Y')}}</td>
                <td>{{ rental.charges }}</td>
                <td>{{ rental.rent }}</td>
                <td>{{ rental.balance }}</td>
                <td>
                    <a href="{{ path('app_rental_edit', {'id': rental.id}) }}" class="btn btn-warning">Location</a>
                </td>
                <td>
                    {{ include('rental/_delete_form.html.twig') }}
                </td>
                <td>
                    <a href="{{ path('app_inventory_of_fixtures_new', {'id': rental.id}) }}" class="btn btn-success"><i class="bi bi-plus"></i>État des lieux</a>
                </td>
                <td>
                    <a href="{{ path('app_tenant_new', {'id': rental.id}) }}" class="btn btn-success">Locataire</a>
                </td>
                <td>
                    <a href="{{ path('app_payment_new', {'id': rental.id}) }}" class="btn btn-success">Paiement</a>
                </td>
                <td>
                    <a href="{{ path('app_rental_show', {'id': rental.id}) }}" class="btn btn-info">Voir</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="7">Aucune location trouvée</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('app_rental_new') }}" class="btn btn-dark ms-3 mb-5">Ajouter une location</a>
{% endblock %}
